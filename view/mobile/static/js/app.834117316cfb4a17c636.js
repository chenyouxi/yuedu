webpackJsonp([1],{"1uuo":function(t,e){},H12q:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("3Lne");var a=n("SSsa"),o=(n("FO5P"),n("woHG")),s=(n("mMXg"),n("qYlo")),i=(n("OWWB"),n("1fWZ")),r=(n("ZuV/"),n("37Xn")),l=(n("JRZP"),n("LK01")),c=(n("Asns"),n("RQxp")),u=(n("fivE"),n("pD4b")),d=(n("I4j4"),n("7fQT")),v=(n("Kazo"),n("3EFv")),h=n("7+uW"),f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var p=n("VU/8")({name:"App"},f,!1,function(t){n("WG2V")},null,null).exports,m=n("/ocq"),g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var _=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},g,!1,function(t){n("1uuo")},"data-v-d8ec41bc",null).exports,k={props:{title:{type:String,default:"标题"}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageHeader"},[n("van-nav-bar",{attrs:{fixed:!0},on:{"click-left":function(e){return t.$emit("onClickLeft")},"click-right":function(e){return t.$emit("onClickRight")}}},[n("div",{staticClass:"page-header-left",attrs:{slot:"left"},slot:"left"},[t._t("left")],2),t._v(" "),n("div",{staticClass:"page-header-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"page-header-right",attrs:{slot:"right"},slot:"right"},[t._t("right")],2)])],1)},staticRenderFns:[]};var C=n("VU/8")(k,b,!1,function(t){n("aGwK")},null,null).exports,y=n("mvHQ"),F=n.n(y),w={props:{book:{type:Object}},methods:{onBookCardClick:function(){sessionStorage.setItem("book",F()({id:this.book.id,title:this.book.name,url:this.book.bookUrl})),this.$router.push("/bookdetail/"+this.book.id)}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-card",on:{click:t.onBookCardClick}},[n("figure",{staticClass:"book-card-img"},[n("img",{attrs:{src:t.book.extImg,alt:""}})]),t._v(" "),n("div",{staticClass:"book-card-title"},[t._v(t._s(t.book.name))]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"book-card-btns"},[e("i",{staticClass:"fa fa-star"})])}]};var x=n("VU/8")(w,S,!1,function(t){n("H12q")},null,null).exports,E=n("Xxa5"),M=n.n(E),T=n("Dd8w"),A=n.n(T),I=n("exGp"),j=n.n(I),z=n("//Fk"),$=n.n(z),H=n("mtWM"),B=n.n(H),R=n("mw3O"),N=n.n(R),O=this,P=window.location.protocol+"//"+window.location.host,V="",W=(V="http://localhost:8080"==P||"http://localhost:8081"==P?"/api":P,B.a.create({timeout:3e3}));W.interceptors.request.use(function(t){return t}),B.a.interceptors.response.use(function(t){return response},function(t){return $.a.reject(t)});var G,U=(G=j()(M.a.mark(function t(e,n){var a,o;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W({url:V+e.url,method:"POST",data:N.a.stringify(e),withCredentials:!0,headers:A()({"Content-Type":"application/x-www-form-urlencoded",datasources:"mobile"},e.headers)});case 2:if(a=t.sent,o=a.data,!n){t.next=8;break}n(o),t.next=9;break;case 8:return t.abrupt("return",o);case 9:case"end":return t.stop()}},t,O)})),function(t,e){return G.apply(this,arguments)}),D={data:function(){return{books:[],menuModal:{state:!1}}},components:{pageHeader:C,BookCard:x},mounted:function(){var t=this;U({url:"/api/Book/search",keyword:""},function(e){var n=[];for(var a in e.data.data)isNaN(parseInt(a))||n.push(e.data.data[a]);t.books=n})}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("page-header",{attrs:{title:"首页"}},[n("div",{attrs:{slot:"left"},on:{click:function(e){t.menuModal.state=!0}},slot:"left"},[n("i",{staticClass:"fa fa-navicon"})]),t._v(" "),n("div",{attrs:{slot:"right"},slot:"right"},[n("i",{staticClass:"fa fa-plus"})])]),t._v(" "),n("div",{staticClass:"page-container"},[n("van-row",t._l(t.books,function(t,e){return n("van-col",{key:e,staticClass:"book-item",attrs:{span:"12"}},[n("book-card",{attrs:{book:t}})],1)}),1)],1),t._v(" "),n("van-popup",{style:{width:"60%",height:"100%"},attrs:{position:"left"},model:{value:t.menuModal.state,callback:function(e){t.$set(t.menuModal,"state",e)},expression:"menuModal.state"}},[n("van-cell",{attrs:{title:"我的收藏","is-link":"",url:"/collection"}}),t._v(" "),n("van-cell",{attrs:{title:"离线下载","is-link":"",url:"/download"}}),t._v(" "),n("van-cell",{attrs:{title:"历史记录","is-link":"",to:"/history"}})],1)],1)},staticRenderFns:[]};var L=n("VU/8")(D,K,!1,function(t){n("jtSz")},null,null).exports,q={data:function(){return{book:null,displayed:null,rendition:null,navigation:null,locations:null,bookAvailable:!1,contents:[],readerSettingModal:{state:!1},menuModal:{state:!1},backgroundColors:["#FF00FF","#FFFF00","#00FFFF"],colors:["#0000FF","#FF0000","#00FF00"],fontSizes:[{title:"小",type:"sm",value:"14px"},{title:"中",type:"mid",value:"18px"},{title:"大",type:"lg",value:"22px"}],selectedBC:"#FF00FF",selectedColor:"#0000FF",selectedFontSize:"mid"}},computed:{themes:function(){var t=this,e=[];return this.backgroundColors.forEach(function(n,a){t.colors.forEach(function(t,o){var s={name:"theme"+a+o,style:{body:{color:t,background:n}}};e.push(s)})}),console.log(e),e}},watch:{selectedFontSize:function(){this.changeFontSize()},selectedBC:function(){this.changeTheme()},selectedColor:function(){this.changeTheme()}},methods:{locationToPage:function(t){var e=t.href;t.id;this.rendition.display(e),this.menuModal.state=!1},prevPage:function(){this.book&&(console.log(this.rendition),this.rendition.prev())},nextPage:function(){this.rendition&&this.rendition.next()},changeFontSize:function(){var t=this,e="";this.fontSizes.map(function(n){n.type==t.selectedFontSize&&(e=n.value)}),this.rendition.themes.fontSize(e)},changeTheme:function(){var t=this;this.themes.some(function(e){if(e.style.body.color==t.selectedColor&&e.style.body.background==t.selectedBC)return t.rendition.themes.select(e.name),!0})}},mounted:function(){var t=this,e=(this.paramsId,"");"local"==this.paramsId?e=localStorage.getItem("localBookUrl"):e=JSON.parse(sessionStorage.getItem("book")).url;this.book=ePub({restore:!0}),this.book.open(e),this.rendition=this.book.renderTo("area",{width:"100%",height:"100%",margin:0}),this.displayed=this.rendition.display(),this.book.ready.then(function(){return t.navigation=t.book.navigation.toc,t.book.locations.generate()}).then(function(e){t.locations=t.book.locations,t.bookAvailable=!0}),this.themes.forEach(function(e){t.rendition.themes.register(e.name,e.style)}),this.rendition.themes.select(this.themes[0].name),console.log(this.athemes)},components:{pageHeader:C}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bookDetail"}},[n("page-header",{attrs:{title:"详情"},on:{onClickLeft:function(e){return t.$router.go(-1)}}},[n("div",{attrs:{slot:"left"},slot:"left"},[n("i",{staticClass:"fa fa-chevron-left"})]),t._v(" "),n("div",{attrs:{slot:"right"},slot:"right"},[n("i",{staticClass:"fa fa-gear",on:{click:function(e){t.readerSettingModal.state=!0}}}),t._v(" "),n("i",{staticClass:"fa fa-list-ul",on:{click:function(e){t.menuModal.state=!0}}})])]),t._v(" "),n("div",{attrs:{id:"area"}}),t._v(" "),n("div",{staticClass:"page-footer"},[n("van-row",[n("van-col",{staticClass:"page-footer-btn",attrs:{span:"12"},on:{click:t.prevPage}},[t._v("上一页")]),t._v(" "),n("van-col",{staticClass:"page-footer-btn",attrs:{span:"12"},on:{click:t.nextPage}},[t._v("下一页")])],1)],1),t._v(" "),n("van-popup",{style:{height:"30%",width:"100%"},attrs:{position:"bottom","overlay-style":{background:"transparent"}},model:{value:t.readerSettingModal.state,callback:function(e){t.$set(t.readerSettingModal,"state",e)},expression:"readerSettingModal.state"}},[n("div",{staticClass:"reader-setting-items"},[n("div",{staticClass:"reader-setting-item"},[n("div",[t._v("背景颜色")]),t._v(" "),n("div",{staticClass:"color-items"},t._l(t.backgroundColors,function(e){return n("div",{key:e,staticClass:"color-item",class:e===t.selectedBC?"active":"",style:{backgroundColor:e},on:{click:function(n){t.selectedBC=e}}})}),0)]),t._v(" "),n("div",{staticClass:"reader-setting-item"},[n("div",[t._v("字体颜色")]),t._v(" "),n("div",{staticClass:"color-items"},t._l(t.colors,function(e){return n("div",{key:e,staticClass:"color-item",class:e===t.selectedColor?"active":"",style:{backgroundColor:e},on:{click:function(n){t.selectedColor=e}}})}),0)]),t._v(" "),n("div",{staticClass:"reader-setting-item"},[n("div",[t._v("字体大小")]),t._v(" "),n("div",{staticClass:"fontsize-items"},t._l(t.fontSizes,function(e){return n("div",{key:e.type,staticClass:"fontsize-item",class:t.selectedFontSize===e.type?"active":"",style:{fontSize:parseInt(e.value)/37.5+"rem"},on:{click:function(n){t.selectedFontSize=e.type}}},[t._v("\n                        A\n                    ")])}),0)])])]),t._v(" "),n("van-popup",{style:{height:"100%",width:"60%"},attrs:{position:"right"},model:{value:t.menuModal.state,callback:function(e){t.$set(t.menuModal,"state",e)},expression:"menuModal.state"}},t._l(t.navigation,function(e,a){return n("div",{key:a,on:{click:function(n){return t.locationToPage(e)}}},[n("van-index-anchor",{attrs:{index:e.label}}),t._v(" "),t._l(e.subItem,function(a,o){return n("van-cell",{key:o,attrs:{title:a.label},on:{click:function(n){return t.locationToPage(e)}}})})],2)}),0)],1)},staticRenderFns:[]};var J=n("VU/8")(q,Z,!1,function(t){n("pEAN")},null,null).exports;h.a.use(m.a);var Q,Y=new m.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"Home",component:L},{path:"/bookdetail/:id",name:"Bookdetail",component:J},{path:"/welcome",name:"HelloWorld",component:_}]}),X=n("NYxO"),tt=n("bOdI"),et=n.n(tt),nt=(Q={},et()(Q,"CHANGE_SIDEBAR_STATE",function(t,e){t.showSidebar=t.payload||!t.showSidebar}),et()(Q,"CHANGE_SNACKBAR_STATE",function(t,e){t.snackbar=A()({},e)}),Q),at={home:{state:{actionItems:[]},actions:{getHomeActivityItems:function(t){t.commit,t.state}},mutations:{GET_ACTIONITEMS:function(t,e){t.actionItems=e}},namespaced:!0}},ot=n("sax8"),st=n.n(ot);h.a.use(X.a);var it=new X.a.Store({state:{showSidebar:!1,snackbar:{state:!1,text:"123131"}},getters:{},mutations:nt,actions:{change:function(t){t.commit,t.state}},modules:at,namespaced:!0,plugins:[st()()]});n("sVYa");h.a.use(v.a),h.a.use(d.a),h.a.use(c.a).use(u.a),h.a.use(r.a).use(l.a),h.a.use(i.a),h.a.use(s.a),h.a.use(o.a),h.a.use(a.a),h.a.config.productionTip=!1,new h.a({el:"#app",router:Y,store:it,components:{App:p},template:"<App/>"})},RUOb:function(t,e){},RZMu:function(t,e){},WG2V:function(t,e){},aGwK:function(t,e){},gJIh:function(t,e){},hW8u:function(t,e){},"hy4/":function(t,e){},jtSz:function(t,e){},nLpc:function(t,e){},nOtf:function(t,e){},nsZj:function(t,e){},pEAN:function(t,e){},sKgQ:function(t,e){},tAII:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.834117316cfb4a17c636.js.map