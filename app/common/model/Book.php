<?php/** * * +---------------------------------------------------------------------- *                      .::::. *                    .::::::::.            | AUTHOR: chenyouxi *                    :::::::::::           | EMAIL: 905100794@qq.com *                 ..:::::::::::'           | QQ: 905100794 *             '::::::::::::'               | WECHAT: xi20130618 *                .::::::::::               | DATETIME: 2019/9/15 10:05 上午 *           '::::::::::::::.. *                ..::::::::::::. *              ``:::::::::::::::: *               ::::``:::::::::'        .:::. *              ::::'   ':::::'       .::::::::. *            .::::'      ::::     .:::::::'::::. *           .:::'       :::::  .:::::::::' ':::::. *          .::'        :::::.:::::::::'      ':::::. *         .::'         ::::::::::::::'         ``::::. *     ...:::           ::::::::::::'              ``::. *   ```` ':.          ':::::::::'                  ::::.. *                      '.:::::'                    ':'````.. * +---------------------------------------------------------------------- */namespace app\common\model;use think\facade\Request;class Book extends Base{    // 开启自动写入时间戳字段    protected $autoWriteTimestamp = false;    // 一对一获取所属模型    public function module()    {        return $this->belongsTo('Module','moduleid');    }    // 获取列表    public static function getList($where = array(), $pageSize, $order = ['sort', 'id' => 'desc']){        $list = self::where($where)            ->order($order)            ->paginate([                'query'     => Request::get(),                'list_rows' => $pageSize,            ]);        foreach ($list as $k => $v) {            $v['type_name'] = $v->bookType->getData('name');        }        return $list;        return $list;    }}