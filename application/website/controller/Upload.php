<?php/** * Created by PhpStorm. * User: chenyouxi * Date: 2019/6/1 * Time: 11:59 AM */namespace app\website\controller;use think\Controller;class Upload extends BaseController{    public function __construct()    {        parent::__construct();        $this->init();    }    public function init()    {    }    /**     * 图片上传函数返回上传的基本信息     * 传入上传路径     */    public function image()    {        $fileKey = key($_FILES);        $file = request()->file($fileKey);        if ($file === null) {            result_error( 11111, "上传文件不存在或超过服务器限制");        }        $save_path = ROOT_PATH. DS . getUploadPath();        $info = $file->validate(['size'=>102407152,'ext'=>'jpg,png,gif'])->move($save_path);        if ($info) {            // 获取基本信息            $result['ext'] = $info->getExtension();            $result['pic_cover'] = '/' . $info->getSaveName();            $result['pic_name'] = $info->getFilename();            $result['pic_size'] = $info->getSize();            \think\Image::open(ROOT_PATH. DS .  getUploadPath() . '/' . $result['pic_cover']);            result_success($result);        } else {            result_error( 11111, "上传失败");        }    }}